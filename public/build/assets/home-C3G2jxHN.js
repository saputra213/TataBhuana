document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#heroTripleCarousel");if(!e)return;e.querySelectorAll(".panel-image, .center-main-image").forEach(t=>{if(t&&t.src){const o=new Image;o.src=t.src}});function s(t){if(!t)return;const o=t.querySelector(".hero-main-title"),n=t.querySelector(".hero-subtitle-text"),r=t.querySelector(".hero-contact-btn");[o,n,r].forEach(d=>{d&&(d.style.animation="none",d.style.opacity="0",d.offsetWidth)}),setTimeout(()=>{o&&(o.style.animation="slideInDownFade 0.8s ease-out 0.2s forwards"),n&&(n.style.animation="slideInUpFade 0.8s ease-out 0.4s forwards"),r&&(r.style.animation="scaleInFade 0.6s ease-out 0.6s forwards")},50)}e.addEventListener("slide.bs.carousel",function(t){});function g(){if(!(e.querySelector(".slide-panel-left")||e.querySelector(".slide-panel-right")))return;const o=Array.from(e.querySelectorAll(".carousel-item")),n=o.length;n!==0&&o.forEach((r,d)=>{const f=r.querySelector(".slide-panel-left .panel-image"),p=r.querySelector(".slide-panel-right .panel-image");if(!f||!p){console.warn("Left or right image not found for slide",d);return}const q=(d-1+n)%n,w=(d+1)%n,b=o[q],E=o[w];if(b){const l=b.querySelector(".center-main-image");if(l&&l.src){const c=l.getAttribute("data-src")||l.src;f.src!==c&&(f.src=c,f.style.opacity="1",f.style.display="block")}else{const c=b.querySelector(".center-image-container img");c&&c.src&&(f.src=c.src,f.style.opacity="1",f.style.display="block")}}if(E){const l=E.querySelector(".center-main-image");if(l&&l.src){const c=l.getAttribute("data-src")||l.src;p.src!==c&&(p.src=c,p.style.opacity="1",p.style.display="block")}else{const c=E.querySelector(".center-image-container img");c&&c.src&&(p.src=c.src,p.style.opacity="1",p.style.display="block")}}})}e.addEventListener("slid.bs.carousel",function(t){const o=t.relatedTarget||e.querySelector(".carousel-item.active");if(o){const n=o.querySelector(".center-main-image");n&&(n.style.animationPlayState="running")}s(o),g()}),e.addEventListener("slide.bs.carousel",function(t){g()}),setTimeout(()=>{const t=e.querySelector(".carousel-item.active");t&&s(t),g()},100),e.addEventListener("mouseenter",function(){const t=e.querySelector(".carousel-item.active .center-main-image");t&&(t.style.animationPlayState="paused")}),e.addEventListener("mouseleave",function(){const t=e.querySelector(".carousel-item.active .center-main-image");t&&(t.style.animationPlayState="running")});let v=0,y=0,a=!1,i=0,u=0;e.addEventListener("mousedown",t=>{t.target.closest("button")||t.target.closest("a")||(a=!0,i=t.clientX,u=i,e.style.cursor="grabbing",e.style.userSelect="none")}),e.addEventListener("mousemove",t=>{a&&(t.preventDefault(),u=t.clientX)}),e.addEventListener("mouseup",t=>{a&&h(t.clientX)}),e.addEventListener("mouseleave",()=>{a&&h(u)});function h(t){a=!1,e.style.cursor="default",e.style.userSelect="auto";const o=t-i;I(o)}e.addEventListener("touchstart",t=>{v=t.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",t=>{y=t.changedTouches[0].screenX,I(y-v)},{passive:!0});const S=e.querySelector(".carousel-control-prev"),L=e.querySelector(".carousel-control-next");S&&S.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();try{(bootstrap.Carousel.getInstance(e)||new bootstrap.Carousel(e)).prev()}catch(o){console.error("Carousel prev error:",o)}}),L&&L.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();try{(bootstrap.Carousel.getInstance(e)||new bootstrap.Carousel(e)).next()}catch(o){console.error("Carousel next error:",o)}});function I(t){if(Math.abs(t)>50)if(t>0){const n=e.querySelector(".carousel-control-prev");if(n)n.click();else try{const r=bootstrap.Carousel.getInstance(e);r&&r.prev()}catch{console.log("Bootstrap instance not found")}}else{const n=e.querySelector(".carousel-control-next");if(n)n.click();else try{const r=bootstrap.Carousel.getInstance(e);r&&r.next()}catch{console.log("Bootstrap instance not found")}}}});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("scrollToTopBtn");if(!e){console.warn("Scroll to Top button not found");return}function m(){(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>100?e.classList.add("show"):e.classList.remove("show")}window.addEventListener("scroll",m,{passive:!0}),e.addEventListener("click",function(s){s.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),e.addEventListener("touchstart",function(s){s.stopPropagation()},{passive:!0}),e.addEventListener("touchend",function(s){s.preventDefault(),s.stopPropagation(),window.scrollTo({top:0,behavior:"smooth"})},{passive:!1}),setTimeout(m,100)});document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#featuredProjectsStrip .strip-container"),m=document.getElementById("fpPrev"),s=document.getElementById("fpNext");if(!e||!m||!s)return;const g=e.querySelectorAll(".strip-item");if(!g.length)return;function v(){const i=g[0].getBoundingClientRect(),u=window.getComputedStyle(e),h=u.columnGap||u.gap||"0",S=parseFloat(h)||0;return i.width+S}function y(a){const i=v(),u=a==="next"?i:-i;e.scrollBy({left:u,behavior:"smooth"})}m.addEventListener("click",function(a){a.preventDefault(),y("prev")}),s.addEventListener("click",function(a){a.preventDefault(),y("next")})});
